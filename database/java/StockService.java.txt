import java.util.*;
import utils.IO;
import entity.StockEntity;
import repos.*;

public class StockService {

	private String[] stockItems = { "Maison Margiela", "Macbook Air", "Mercedes Pen" };

	public void listAll() {
		System.out.println("  DISPLAYING STOCK ITEMS ");
		for (int i = 0; i < stockItems.length; i++) {
			System.out.printf("  %d.   %s\n", i + 1, stockItems[i]);
		}
	}

	public List<StockEntity> createStock() {
		StockRepo repo = new StockRepo();
		repo.connect();
		List<StockEntity> allStocks = new ArrayList<>();
		while (true) {
			System.out.print(" stock name: ");
			String stockName = IO.readString();

			System.out.print(" unit price: ");
			int unitPrice = IO.readInt(false);

			System.out.print("  quantity: ");
			int quantity = IO.readInt(false);

			System.out.printf("\n\n\n");
			StockEntity newStock = new StockEntity(stockName, unitPrice, quantity);
			allStocks.add(newStock);

			System.out.println("  stock added successfully");

			System.out.print("  Would you like to add another stock?[y/n] ");
			String userChoice = IO.readString();
			if (userChoice.toLowerCase().contains("no") || userChoice.toLowerCase().contains("n")) {
				break;
			}


		}

		for (StockEntity stock : allStocks) {
			repo.add_stock(stock);
		}
		return allStocks;
	}

}
